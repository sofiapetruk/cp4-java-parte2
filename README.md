# Sistema de Gerenciamento de Produtos

Um sistema web desenvolvido em Spring Boot para gerenciamento de produtos, implementando operações CRUD completas com interface web responsiva.

## Tecnologias Utilizadas

- **Java 17** - Linguagem de programação principal
- **Spring Boot 3.5.5** - Framework para desenvolvimento de aplicações Java
- **Spring Data JPA** - Abstração para persistência de dados
- **Spring Web MVC** - Framework web para APIs REST e páginas web
- **Thymeleaf** - Engine de templates para renderização de páginas HTML
- **Oracle Database** - Sistema de gerenciamento de banco de dados
- **Lombok** - Biblioteca para redução de código boilerplate
- **Maven** - Ferramenta de automação e gerenciamento de dependências
- **HTML5/CSS3** - Tecnologias front-end para interface do usuário

## Arquitetura do Projeto

### Estrutura de Diretórios

```
cp4-java-parte2/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── br/com/fiap/cp4/cp4_java/
│   │   │       ├── controller/          # Controladores MVC
│   │   │       ├── dto/                 # Data Transfer Objects
│   │   │       ├── entity/              # Entidades JPA
│   │   │       ├── repository/          # Repositórios de dados
│   │   │       └── Cp4JavaApplication.java
│   │   └── resources/
│   │       ├── static/css/              # Arquivos CSS
│   │       ├── templates/               # Templates Thymeleaf
│   │       └── application.properties   # Configurações da aplicação
│   └── test/                           # Testes unitários
├── pom.xml                             # Configurações Maven
└── README.md
```

### Componentes Principais

#### Entidades (Entity Layer)
- **ProductEntity**: Representa a entidade Produto no banco de dados
  - Mapeada para a tabela `T_PRODUTOS_CP4`
  - Utiliza sequence `SQ_T_PRODUTOS_CP4` para geração de IDs
  - Campos: ID, nome, tipo, setor, tamanho e preço unitário

#### DTOs (Data Transfer Objects)
- **ProductRequest**: Objeto para recebimento de dados de entrada
  - Validações com Bean Validation (@NotBlank, @NotNull, @Positive)
- **ProductResponse**: Objeto para resposta de dados ao cliente
  - Método estático `from()` para conversão de entidade

#### Repositórios (Repository Layer)
- **ProductRepository**: Interface que estende JpaRepository
  - Operações CRUD automáticas fornecidas pelo Spring Data JPA

#### Controladores (Controller Layer)
- **ProductController**: Controlador MVC para gerenciamento de produtos
  - Endpoints para listagem, criação, edição e exclusão
  - Integração com templates Thymeleaf

## Funcionalidades

### Operações CRUD

1. **Listagem de Produtos** (`GET /products`)
   - Exibe todos os produtos cadastrados em formato de tabela
   - Interface responsiva com ações para editar e excluir

2. **Cadastro de Produto** (`GET /products/new`, `POST /products`)
   - Formulário para inserção de novos produtos
   - Validação de campos obrigatórios

3. **Edição de Produto** (`GET /products/{id}/edit`, `PUT /products/{id}`)
   - Formulário pré-preenchido para edição
   - Atualização de dados existentes

4. **Exclusão de Produto** (`DELETE /products/{id}`)
   - Remoção de produto por ID
   - Confirmação via formulário HTML

### Interface do Usuário

- **Design Responsivo**: Interface adaptável para dispositivos móveis e desktop
- **Estilização Moderna**: CSS3 com gradientes, sombras e transições
- **Acessibilidade**: Labels associados aos inputs e navegação por teclado
- **Feedback Visual**: Hover effects e estados de botões

## Configuração do Banco de Dados

### Oracle Database
O sistema utiliza Oracle Database com as seguintes configurações:

- **URL de Conexão**: `jdbc:oracle:thin:@oracle.fiap.com.br:1521:orcl`
- **Dialeto**: `org.hibernate.dialect.OracleDialect`
- **DDL**: Atualização automática das tabelas (`spring.jpa.hibernate.ddl-auto=update`)

### Estrutura da Tabela

```sql
CREATE TABLE T_PRODUTOS_CP4 (
    ID_PRODUTO NUMBER GENERATED BY DEFAULT AS IDENTITY,
    NAME_PRODUCT VARCHAR2(100) NOT NULL,
    TYPE_PRODUCT VARCHAR2(100) NOT NULL,
    SECTOR VARCHAR2(200) NOT NULL,
    SIZE_PRODUCT NUMBER NOT NULL,
    UNIT_PRICE NUMBER NOT NULL,
    PRIMARY KEY (ID_PRODUTO)
);

CREATE SEQUENCE SQ_T_PRODUTOS_CP4 START WITH 1 INCREMENT BY 1;
```

## Pré-requisitos

- Java 17 ou superior
- Maven 3.6 ou superior
- Oracle Database (com acesso ao servidor configurado)
- IDE de desenvolvimento (IntelliJ IDEA, Eclipse, VS Code)

## Instalação e Execução

### 1. Clone do Repositório
```bash
git clone <url-do-repositorio>
cd cp4-java-parte2
```

### 2. Configuração do Banco de Dados
Edite o arquivo `src/main/resources/application.properties` com suas credenciais:
```properties
spring.datasource.username=seu_usuario
spring.datasource.password=sua_senha
```

### 3. Compilação e Execução
```bash
# Compilar o projeto
mvn clean compile

# Executar testes
mvn test

# Executar a aplicação
mvn spring-boot:run
```

### 4. Acesso à Aplicação
Abra o navegador e acesse: `http://localhost:8080/products`

## Endpoints da API

| Método | Endpoint | Descrição |
|--------|----------|-----------|
| GET | `/products` | Lista todos os produtos |
| GET | `/products/new` | Formulário de novo produto |
| POST | `/products` | Cria um novo produto |
| GET | `/products/{id}/edit` | Formulário de edição |
| PUT | `/products/{id}` | Atualiza um produto |
| DELETE | `/products/{id}` | Remove um produto |

## Padrões de Desenvolvimento

### Clean Code
- Nomes descritivos para classes, métodos e variáveis
- Métodos pequenos com responsabilidade única
- Separação clara de responsabilidades por camadas

### Design Patterns
- **Repository Pattern**: Abstração da camada de dados
- **DTO Pattern**: Transferência de dados entre camadas
- **MVC Pattern**: Separação entre Model, View e Controller

### Boas Práticas
- Injeção de dependência com Spring
- Validação de dados com Bean Validation
- Tratamento de exceções com ResponseStatusException
- Configuração externalizada via properties

## Estrutura de Dados

### Modelo de Produto

```java
public class Product {
    private Long idProduto;      // ID único do produto
    private String name;         // Nome do produto (máx. 100 caracteres)
    private String type;         // Tipo do produto (máx. 100 caracteres)
    private String sector;       // Setor do produto (máx. 200 caracteres)
    private Double size;         // Tamanho do produto
    private Double unitPrice;    // Preço unitário do produto

##Render
https://cp4-java-parte2-qps7.onrender.com/products
}
```
